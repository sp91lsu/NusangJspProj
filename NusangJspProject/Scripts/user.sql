
/* Drop Triggers */

DROP TRIGGER TRI_NUSER_UUID;



/* Drop Tables */

DROP TABLE NUSER CASCADE CONSTRAINTS;



/* Drop Sequences */

DROP SEQUENCE SEQ_NUSER_UUID;




/* Create Sequences */

CREATE SEQUENCE SEQ_NUSER_UUID INCREMENT BY 1 START WITH 1;




/* Create Tables */

CREATE TABLE NUSER
(
	UUID number DEFAULT 1 NOT NULL,
	USERID varchar2(50) NOT NULL UNIQUE,
	USERNAME varchar2(50) NOT NULL,
	PASSWORD varchar2(50) NOT NULL,
	ROLE varchar2(20) DEFAULT 'ROLE_USER' NOT NULL,
	PRIMARY KEY (UUID)
);



/* Create Triggers */

CREATE OR REPLACE TRIGGER TRI_NUSER_UUID BEFORE INSERT ON NUSER
FOR EACH ROW
BEGIN
	SELECT SEQ_NUSER_UUID.nextval
	INTO :new.UUID
	FROM dual;
END;

/





