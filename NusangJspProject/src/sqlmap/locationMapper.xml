<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="locationMapper">
     
      <select id="selectAll" resultType="Location">
        SELECT
            *
        FROM
            LOCATION
    </select>
     
     
       <select id="findBy"  resultType="Location">
        SELECT
            *
        FROM
            LOCATION
        WHERE 
        ${search} = #{keyword}
    </select>
    
      <select id="findByLocationName"  resultType="Location">
        SELECT
            *
        FROM
            LOCATION
        WHERE 
        TABLETYPE = 'POST'
        AND
        NAME1 = #{name1}
        AND
        NAME1 = #{name2}
        AND
        NAME1 = #{name3}
    </select>



    
     <insert id="insert" parameterType="Location" useGeneratedKeys="true" keyColumn="locationno" keyProperty="locationno">
    	<selectKey keyProperty="locationno" resultType="int" order="AFTER">			   
    	SELECT SEQ_LOCATION_LOCATIONNO.CURRVAL FROM DUAL
 		</selectKey>
		
        INSERT INTO LOCATION (name1,name2,name3,longtitude,latitude,tabletype)
         VALUES ( #{name1}, #{name2}, #{name3},#{longtitude},#{latitude},#{tabletype}) 
    </insert>
    
    
    <update id="updateBy"  > 
         
         UPDATE LOCATION
SET 
${colum} = #{value}
WHERE
 userno = #{userno}
    </update>
</mapper>

